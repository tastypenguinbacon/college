.ORG 0
	SJMP INIT
.ORG 30h
INIT:
	MOV TMOD, #0x20
	MOV TL1, #245
	MOV TH1, #245
	MOV SCON, #0x50
	SETB TR1
MAIN:	MOV DPTR, #DATA_TO_TRANSFER
	MOV A, #0
REPEAT:
	PUSH A
	MOVC A, @A+DPTR
	JZ CLEAR_STACK
	ACALL SEND
	POP A
	INC A
	SJMP REPEAT
CLEAR_STACK:
	POP A
	SJMP MAIN
SEND:	MOV SBUF, A
	JNB TI, $
	CLR TI
	RET

DATA_TO_TRANSFER:	;"Hello world!"	
	DB 72
	DB 101
	DB 108
	DB 108
	DB 111
	DB 32
	DB 87
	DB 111
	DB 114
	DB 108
	DB 100
	DB 33
	DB 0
